CREATE TABLE Filial(
	ID INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
    Nome VARCHAR(200),
    Endereco VARCHAR(200),
    Cidade VARCHAR(45),
    Estado VARCHAR(2)
);
CREATE TABLE Sala(
	ID INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
    Nome VARCHAR(45),
    Filial INT,
    CONSTRAINT FK_Sala_Filial FOREIGN KEY (Filial) REFERENCES Filial(ID)
);
CREATE TABLE Professor(
	ID INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
    Nome VARCHAR(200),
    CPF VARCHAR(20),
    Endereco VARCHAR(200),
    Cidade VARCHAR(45),
    Estado VARCHAR(2),
    Filial INT,
    CONSTRAINT FK_Professor_Filial FOREIGN KEY (Filial) REFERENCES Filial(ID)
);
CREATE TABLE Curso(
	ID INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
    Tipo VARCHAR(45)
);
CREATE TABLE Aluno(
	Matricula INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
    Nome VARCHAR(200),
    CPF VARCHAR(200),
    Endereco VARCHAR(200),
    Cidade VARCHAR(45),
    Estado VARCHAR(2),
    Curso INT,
    Filial INT,
    Data_Ingresso DATE,
    CONSTRAINT FK_Aluno_Curso FOREIGN KEY (Curso) REFERENCES Curso(ID),
    CONSTRAINT FK_Aluno_Filial FOREIGN KEY (Filial) REFERENCES Filial(ID)
);
CREATE TABLE Materia(
	ID INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
    Nome VARCHAR(45)
);
CREATE TABLE Aula(
	ID INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
    Sala INT,
    Materia INT,
	Professor INT,
    CONSTRAINT FK_Aula_Sala FOREIGN KEY (Sala) REFERENCES Sala(ID),
	CONSTRAINT FK_Aula_Prof FOREIGN KEY (Professor) REFERENCES Professor(ID),
    CONSTRAINT FK_Aula_Materia FOREIGN KEY (Materia) REFERENCES Materia(ID)
);
CREATE TABLE Rel_Aluno_Aula(
	ID INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
    Aluno INT,
    Aula INT,
    CONSTRAINT FK_Aluno_Aula FOREIGN KEY (Aluno) REFERENCES Aluno(Matricula),
    CONSTRAINT FK_Aula_Aluno FOREIGN KEY (Aula) REFERENCES Aula(ID)
);